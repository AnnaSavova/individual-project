<div class="container h-100">
  <div class="row h-100 justify-content-center align-items-center">
    <div class="col-lg-10 text-center">
    

  
        <mat-form-field style="width: 250px" appearance="fill">
          <mat-label>Choose an Algorithm</mat-label>
          <mat-select id="algorithmDropdown" [formControl]="algorithm" (selectionChange)="changeAlgorithm()">
            <mat-option value="simple">Simple</mat-option>
            <mat-option value="gale-shapley">Gale-Shapley Stable Marriage</mat-option>
          </mat-select>
        </mat-form-field>

        
        <div class="row mb-4" *ngIf="!this.playback.firstRun && (this.algorithm.value == 'gale-shapley')">
          <div class="col-12" >
            Free Men: [
            <span *ngFor="let item of this.freeMen; let lastItem = last;">
              <span class="{{ item }}">{{ item }}</span><span *ngIf="!lastItem">,</span>
            </span>
            ]
          </div>
        </div>
        
        <div class="row" *ngIf="!this.playback.firstRun && (this.algorithm.value == 'gale-shapley')">
          <div class="col-4" >
            <p>Men</p>
            <li *ngFor="let item of this.men | keyvalue:mySortingFunction">
              <span class="man{{ item.key }}">{{item.key}}</span>:
              <span *ngFor="let woman of item.value; let lastItem = last;">
                <span class="man{{ item.key }}woman{{ woman }}">{{ woman }}</span><span *ngIf="!lastItem">,</span>
              </span>
            </li>
          </div>

          <div class="col-4" >
            <p>Matches</p>
            <li *ngFor="let item of this.matches | keyvalue:mySortingFunction">
              <span class="{{ item.key }}">{{item.key}}</span>: {{item.value}}
            </li>
          </div>

          <div class="col-4" >
            <p>Women</p>
            <li *ngFor="let item of this.women | keyvalue:mySortingFunction">
              <span class="woman{{ item.key }}">{{item.key}}</span>: 
              <span *ngFor="let man of item.value; let lastItem = last;">
                <span class="woman{{ item.key }}man{{ man }}">{{ man }}</span><span *ngIf="!lastItem">,</span>
              </span>
            </li>
          </div>
          <!-- <div class="col-6" *ngFor="let item2 of this.men | keyvalue:mySortingFunction">
            <b>{{item2.key}}</b>: {{item2.value}}
          </div> -->
        </div>


      <playback-controls [algorithm]="this.algorithm.value" [numPeople]="5" *ngIf="!(this.algorithm.value == '')"></playback-controls>

      <code-display [algorithm]="this.algorithm.value" *ngIf="!(this.algorithm.value == '')"></code-display>

    </div>
  </div>
</div>
